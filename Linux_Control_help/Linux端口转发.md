# Linux 端口转发
---

## 使用SSH协议设置反向隧道（Reverse Tunneling）
    ssh -R 远程端口:要转发出去的地址:要转发出去的端口 用户名@ip -p 远程服务器的ssh端口
例如

    ssh -R 12845:192.168.203.129:22 root@aiiipe.rr.nu -p 2222

# 1. 命令解析：
- `ssh`：这是Secure Shell (SSH) 协议的命令行工具，用于安全地访问远程计算机。
- `-R` 12845:192.168.203.129:22：这部分设置了一个反向隧道。-R 选项意味着“远程端口转发”。这里的 12845 是远程服务器上将被监听的端口号，192.168.203.129:22 是本地机器上的目标地址和端口，其中22通常是SSH服务的默认端口。
- `root@aiiipe.rr.nu`：指定用哪个用户（这里是root用户）登录到哪台远程服务器（服务器的域名为 aiiipe.rr.nu）。
- `-p 2222`：指定连接远程服务器时使用的端口号。默认SSH端口号为22，此处改为2222，表明远程服务器的SSH服务被配置在非标准端口上。
# 2. 功能：
- 此命令的主要功能是允许从远程服务器（aiiipe.rr.nu）通过端口12845访问到执行此命令设备的SSH服务（端口22）上。这意味着任何能够访问远程服务器端口12845的用户都可以通过这个端口转发来安全地连接到内网IP为192.168.203.129的计算机的22端口。
# 3. 使用场景：
- 这通常用于绕过NAT或防火墙限制，使得在外部无法直接访问的内网设备可以被外部访问。
- 也可以用于安全的远程工作环境搭建，允许管理员从任何地方通过连接到配置了SSH反向隧道的服务器来安全管理内部网络中的机器。

这段代码的有效运行需要远程服务器上的SSH配置允许端口转发，并且执行命令的用户必须有足够的权限来建立端口转发。此外，网络之间的连接必须是可达的。